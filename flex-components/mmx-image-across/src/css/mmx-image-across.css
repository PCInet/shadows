/* ==========================================================================
   MMX PCINET / IMAGE ACROSS
   ========================================================================== */

.mmx-pcinet-image-across {
	display: block;
	text-align: var(--mmx-pcinet-image-across__text-align);
}

.mmx-pcinet-image-across__content {
	overflow: hidden;
	position: relative;
}

.mmx-pcinet-image-across slot[name="title"]::slotted(*) {
	margin: 0 auto 3%;
}

.mmx-pcinet-image-across__images {
	--mmx-pcinet-image-across__gap: clamp(16px, calc(8vw / var(--mmx-pcinet-image-across__columns)), 32px);

	display: grid;
	grid-template-columns: repeat(var(--mmx-pcinet-image-across__columns), 1fr);
	gap: var(--mmx-pcinet-image-across__gap);
	overflow-x: auto;
	margin-bottom: 0; /* exact value is given in JavaScript code */
}

/* Control Arrows
   =========================================== */

.mmx-pcinet-image-across__arrow {
	position: absolute;
	border-radius: 50%;
	background-color: rgba(47, 43, 67, 0.40);
	border: 1px solid var(--mmx-pcinet-color-white);
	top: calc(50% - 20px);
	width: 45px;
	height: 45px;
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: box-shadow 0.3s linear;
}

.mmx-pcinet-image-across__arrow:hover,
.mmx-pcinet-image-across__arrow:focus {
	box-shadow: 0 0 38px rgba(0, 0, 0, 0.21);
}

.mmx-pcinet-image-across__arrow--prev {
	left: 10px;
}

.mmx-pcinet-image-across__arrow--next {
	right: 10px;
}

.mmx-pcinet-image-across__arrow--disabled {
	display: none;
}



/* Overflow: Scroll
   =========================================== */
.mmx-pcinet-image-across__images-overflow--scroll {
	/*
		--mmx-pcinet-image-across__peek-base-amount
			Base amount we should peek; regardless of if we are/aren't peeking

		--mmx-pcinet-image-across__peak-is-active
			returns 1 if images > columns
			returns 0 if columns <= images

		--mmx-pcinet-image-across__peek
			The amount of peek to show accounting for if we are/aren't peeking
			(based on the image & column count)
	*/
	--mmx-pcinet-image-across__peek-base-amount: 15vw;
	--mmx-pcinet-image-across__peak-is-active: min(max(var(--mmx-pcinet-image-across__image-count) - var(--mmx-pcinet-image-across__columns), 0), 1);
	--mmx-pcinet-image-across__peek: calc(var(--mmx-pcinet-image-across__peak-is-active) * var(--mmx-pcinet-image-across__peek-base-amount));
	--mmx-pcinet-image-across__gap-per-column: calc((var(--mmx-pcinet-image-across__gap) * (var(--mmx-pcinet-image-across__columns) - 1)) / var(--mmx-pcinet-image-across__columns));
	--mmx-pcinet-image-across__image-width: calc((100% - var(--mmx-pcinet-image-across__peek)) / var(--mmx-pcinet-image-across__columns) - var(--mmx-pcinet-image-across__gap-per-column));

	grid-template-columns: repeat(var(--mmx-pcinet-image-across__image-count), var(--mmx-pcinet-image-across__image-width));
	overflow-x: auto;
	scroll-snap-type: x mandatory;
}

.mmx-pcinet-image-across__images-overflow--scroll > slot[name="image"]::slotted(*) {
	scroll-snap-align: start;
}

@media screen and (min-width: 40em) {
	.mmx-pcinet-image-across__images-overflow--scroll {
		--mmx-pcinet-image-across__peek-base-amount: 0vw;
	}
}


/* Overflow: Wrap: Mobile Columns
   =========================================== */
@media screen and (max-width: 40em) {
	.mmx-pcinet-image-across__images-overflow--wrap.mmx-pcinet-image-across__images-columns--2,
	.mmx-pcinet-image-across__images-overflow--wrap.mmx-pcinet-image-across__images-columns--3,
	.mmx-pcinet-image-across__images-overflow--wrap.mmx-pcinet-image-across__images-columns--4 {
		--mmx-pcinet-image-across__columns: 1;
	}

	.mmx-pcinet-image-across__images-overflow--wrap.mmx-pcinet-image-across__images-columns--5,
	.mmx-pcinet-image-across__images-overflow--wrap.mmx-pcinet-image-across__images-columns--6,
	.mmx-pcinet-image-across__images-overflow--wrap.mmx-pcinet-image-across__images-columns--7 {
		--mmx-pcinet-image-across__columns: 2;
	}

	.mmx-pcinet-image-across__images-overflow--wrap.mmx-pcinet-image-across__images-columns--8 {
		--mmx-pcinet-image-across__columns: 3;
	}
}


/* Overflow: Wrap: Tablet Columns
   =========================================== */
@media screen and (min-width: 40em) and (max-width: 75em) {
	.mmx-pcinet-image-across__images-overflow--wrap.mmx-pcinet-image-across__images-columns--6 {
		--mmx-pcinet-image-across__columns: 3;
	}

	.mmx-pcinet-image-across__images-overflow--wrap.mmx-pcinet-image-across__images-columns--7,
	.mmx-pcinet-image-across__images-overflow--wrap.mmx-pcinet-image-across__images-columns--8 {
		--mmx-pcinet-image-across__columns: 4;
	}
}


/* Overflow: Scroll > Mobile Columns
   =========================================== */
@media screen and (max-width: 40em) {
	.mmx-pcinet-image-across__images-overflow--scroll.mmx-pcinet-image-across__images-columns--2,
	.mmx-pcinet-image-across__images-overflow--scroll.mmx-pcinet-image-across__images-columns--3,
	.mmx-pcinet-image-across__images-overflow--scroll.mmx-pcinet-image-across__images-columns--4,
	.mmx-pcinet-image-across__images-overflow--scroll.mmx-pcinet-image-across__images-columns--5 {
		--mmx-pcinet-image-across__columns: 1;
	}

	.mmx-pcinet-image-across__images-overflow--scroll.mmx-pcinet-image-across__images-columns--6 {
		--mmx-pcinet-image-across__columns: 2;
	}

	.mmx-pcinet-image-across__images-overflow--scroll.mmx-pcinet-image-across__images-columns--7,
	.mmx-pcinet-image-across__images-overflow--scroll.mmx-pcinet-image-across__images-columns--8 {
		--mmx-pcinet-image-across__columns: 3;
	}
}


/* Overflow: Scroll > Tablet Columns
   =========================================== */
@media screen and (min-width: 40em) and (max-width: 75em) {
	.mmx-pcinet-image-across__images-overflow--scroll.mmx-pcinet-image-across__images-columns--6 {
		--mmx-pcinet-image-across__columns: 4;
	}

	.mmx-pcinet-image-across__images-overflow--scroll.mmx-pcinet-image-across__images-columns--7,
	.mmx-pcinet-image-across__images-overflow--scroll.mmx-pcinet-image-across__images-columns--8 {
		--mmx-pcinet-image-across__columns: 5;
	}
}

/* Responsive Heights for Mobile
   =========================================== */
:host {
	--mmx-pcinet-hero--size--l: 240px;
	--mmx-pcinet-hero--size--m: 180px;
	--mmx-pcinet-hero--size--s: 160px;
}

/* Responsive Heights for Tablet
   =========================================== */
@media screen and (min-width: 48em) {
	:host {
		--mmx-pcinet-hero--size--l: 400px;
		--mmx-pcinet-hero--size--m: 240px;
		--mmx-pcinet-hero--size--s: 200px;
	}
}

/* Responsive Heights for Desktop
   =========================================== */
@media screen and (min-width: 75em) {
	:host {
		--mmx-pcinet-hero--size--l: 640px;
		--mmx-pcinet-hero--size--m: 400px;
		--mmx-pcinet-hero--size--s: 240px;
	}
}